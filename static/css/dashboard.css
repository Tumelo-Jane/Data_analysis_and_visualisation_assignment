/* ===========================
   Dashboard (cleaned + fixed)
   =========================== */

/* Color tokens so light/dark works with data-theme */
:root{
  --bg: rgb(248,249,250);
  --card: #fff;
  --border: rgb(233,229,229);
  --fg: rgb(64,64,64);
  --muted: rgb(102,104,105);
  --shadow: 0 4px 6px rgba(0,0,0,0.1);
  --shadow-hover: 0 6px 12px rgba(0,0,0,0.15);
  --accent: #7c3aed;
}
[data-theme="dark"]{
  --bg: #0f172a;
  --card: #0b1222;
  --border: rgba(148,163,184,.25);
  --fg: #e2e8f0;
  --muted: #94a3b8;
  --shadow: 0 4px 10px rgba(0,0,0,0.35);
  --shadow-hover: 0 10px 20px rgba(0,0,0,0.45);
  --accent: #8b5cf6;
}

/* Base */
html{ overflow-x:hidden; }
body{
  margin:0; padding:0;
  background-color: var(--bg);
  color: var(--muted) !important;
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
}

/* Top nav + side nav */
.navbar{
  background-color: var(--card) !important;
  border-bottom: 1px solid var(--border);
  box-shadow: var(--shadow);
}
.search{
  width: 1000px; max-width: 100%;
  border-radius: 10px;
  border: 1px solid rgb(220,220,220);
}
.sidenav{
  background-color: var(--card);
  border-right: 1px solid var(--border);
  padding:0;
}

.main-row{ height:97vh; overflow:hidden; }
.main-body{ padding:0; background-color:var(--bg); position:relative; }
.mid-content{
  position:absolute; left:0; right:0; top:80px; bottom:0;
  overflow-y:auto; overflow-x:hidden; padding:20px;
}

/* Section container */
.section-container{
  max-width:1200px; margin:0 auto 30px; padding:0 20px;
}

/* Cards / containers */
.overview-card,
.stats-grid,
.chart-container,
.table-container,
.kpi-card,
.chart-card{
  background-color: var(--card);
  border: 1px solid var(--border);
  border-radius: 15px;
  box-shadow: var(--shadow);
}
.overview-card{ padding:30px; margin-bottom:30px; }
.section-title{
  color: var(--fg); font-size:24px; font-weight:600; margin-bottom:15px; text-align:center;
}
.overview-text{
  color: var(--muted); font-size:16px; line-height:1.6; text-align:center; margin:0;
}

/* Stats */
.stats-title{
  color: var(--fg); font-size:20px; font-weight:600; margin-bottom:20px; text-align:center;
}
.stats-grid{
  display:grid; grid-template-columns:repeat(4,1fr);
  gap:20px; padding:30px; margin-bottom:30px;
}
.stat-card{
  display:flex; flex-direction:column; align-items:center; padding:20px; text-align:center; position:relative;
  transition: transform .2s ease, box-shadow .2s ease;
}
.stat-card:hover{ transform: translateY(-2px); box-shadow: var(--shadow-hover); }
.stat-card:not(:last-child){ border-right:1px solid rgb(220,220,220); }
.stat-icon{
  width:60px; height:60px; border-radius:50%; display:flex; align-items:center; justify-content:center; margin-bottom:15px;
}
.stat-number{ font-size:28px; font-weight:700; color: var(--fg); margin: 10px 0 5px; }
.stat-label{ font-size:14px; color: var(--muted); font-weight:500; letter-spacing:.5px; }

/* Icon color swatches */
.back-mean{ background-color: rgb(167,200,243) !important; }
.back-std { background-color: rgb(200,240,204) !important; }
.back-min { background-color: rgb(248,201,240) !important; }
.back-max { background-color: rgb(212,190,229) !important; }
.calculator{ font-size:24px; color: rgb(4,86,194); }
.graph-up { font-size:24px; color: rgb(7,163,33); }
.arrow-down{ font-size:24px; color: rgb(230,7,192); }
.arrow-up  { font-size:24px; color: rgb(72,5,134); }

/* Charts layout */
.charts-row,
.viz-row{
  display:grid; grid-template-columns:1fr 1fr; gap:30px; margin-bottom:30px;
}
.chart-column{ display:flex; flex-direction:column; gap:30px; }
.chart-container{ padding:25px; transition: box-shadow .2s ease; }
.chart-container:hover{ box-shadow: var(--shadow-hover); }

/* OUR Chart.js canvases (fix: remove invalid '# lineChart' selector) */
#gdpChart,
#inflChart,
#overlayChart,
#scatterChart,
#yoyChart,
#donutChart,
#decadeChart,
#rollingChart,
#histChart,
#cumChart,
#volChart,
#yoyScatterChart{
  width: 100%;
  height: auto !important;
}

/* Captions under charts */
.figcap{
  margin-top:8px;
  font-size:13px;
  color: var(--muted);
}

/* Table */
.table-container{ padding:25px; margin-bottom:30px; }
.data-table{ width:100%; border-collapse:collapse; font-size:14px; }
.table-title{
  background-color: var(--bg); padding:15px; text-align:center; font-weight:600; font-size:16px; color: var(--fg);
}
.table-headers th{
  background-color: var(--bg); padding:12px; text-align:center; font-weight:600; border-bottom:2px solid rgb(220,220,220);
}
.year-col{ color: rgb(241,89,183) !important; }
.inflation-col{ color: rgb(9,152,209) !important; }
.gdp-col{ color: rgb(137,67,165) !important; }
.data-table tbody tr{ border-bottom:1px solid rgb(240,240,240); }
.data-table tbody tr:hover{ background-color: rgba(0,0,0,0.02); }
.data-table th[scope="row"]{ background-color: var(--bg); padding:12px; text-align:left; font-weight:600; color: var(--fg); }
.data-table td{ padding:12px; text-align:center; color: var(--muted); }

/* KPI (new) */
.kpi-card{ padding:20px; }
.kpi-label{ font-size:.9rem; color: var(--muted); }
.kpi-value{ font-size:28px; font-weight:700; color: var(--fg); line-height:1.1; }
.kpi-foot{ font-size:.85rem; color: #828282; }

/* Chart "card" wrapper */
.chart-card{
  padding:25px;
}
.chart-title{
  font-weight:600; color: var(--fg); margin-bottom:10px; text-align:left;
}

/* Reveal-on-scroll */
.reveal{ opacity:0; transform:translateY(12px); transition:opacity .45s ease, transform .45s ease; }
.reveal.reveal-in{ opacity:1; transform:none; }

/* Utilities */
.text-center{ text-align:center; }
.text-left{ text-align:left; }
.text-right{ text-align:right; }
.mb-0{ margin-bottom:0; }
.mt-0{ margin-top:0; }
.heading{ margin-top:10px; }
.barfill{ color: rgb(97,170,238) !important; margin-left:20px; }

/* Responsive */
@media (max-width:1200px){
  .section-container{ max-width:100%; padding:0 15px; }
  .charts-row, .viz-row{ grid-template-columns:1fr; gap:20px; }
  .stats-grid{ grid-template-columns: repeat(2,1fr); }
}
@media (max-width:768px){
  .stats-grid{ grid-template-columns:1fr; }
  .stat-card:not(:last-child){ border-right:none; border-bottom:1px solid rgb(220,220,220); padding-bottom:20px; margin-bottom:20px; }
  .chart-container{ padding:20px; }
  .overview-card{ padding:20px; }
  .section-title{ font-size:20px; }
  .stat-number{ font-size:24px; }
}
@media (max-width:480px){
  .mid-content{ padding:10px; }
  .chart-container{ padding:15px; }
  .overview-card{ padding:15px; }
  .stats-grid{ padding:20px; }
}
